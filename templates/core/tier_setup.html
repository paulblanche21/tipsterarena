{% extends 'core/base.html' %}
{% load static %}

{% block title %}Choose Your Experience - Tipster Arena{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/premium.css' %}">
{% endblock %}

{% block content %}
<div class="onboarding-container">
    <div class="onboarding-header">
        <h1>Welcome to Tipster Arena!</h1>
        <p class="subtitle">Choose the plan that fits your betting journey. Upgrade anytime!</p>
    </div>

    <div class="tiers-comparison">
        <div class="tier-card free">
            <h2>Free</h2>
            <ul class="tier-features">
                <li>Post up to 2 tips/day (60/month)</li>
                <li>Access basic tipster stats</li>
                <li>Follow up to 10 tipsters</li>
                <li>View public tips & leaderboards</li>
                <li>Like tips</li>
                <li class="feature-ad">See ads from betting partners</li>
            </ul>
            <button class="select-tier-btn" data-tier="free">Continue with Free</button>
        </div>
        <div class="tier-card basic">
            <h2>Basic <span class="badge-trial">1 Month Free!</span></h2>
            <ul class="tier-features">
                <li>Ad-free experience <span class="feature-ad">(First month only)</span></li>
                <li>Post up to 100 tips/month</li>
                <li>Access advanced stats</li>
                <li>Follow unlimited tipsters</li>
                <li>Comment on tips & join discussions</li>
                <li>Like tips</li>
                <li>See ads after trial ends</li>
            </ul>
            <button class="select-tier-btn" data-tier="basic">Start Free Basic Trial</button>
            <div class="tier-price">€7/month after trial</div>
        </div>
        <div class="tier-card premium">
            <h2>Premium <span class="badge-popular">Most Popular</span></h2>
            <ul class="tier-features">
                <li>All Basic features</li>
                <li>Access Premium Tips from Top Tipsters</li>
                <li>Priority profile visibility</li>
                <li>Custom badges & analytics dashboard</li>
                <li>Early access to new features</li>
                <li class="feature-ad">No ads, ever</li>
                <li><strong>Compete for Top Tipster status and earn a share of the monthly prize pool <span style="color:var(--red-accent);">(Premium only)</span></strong></li>
            </ul>
            <button class="select-tier-btn" data-tier="premium">Upgrade to Premium</button>
            <div class="tier-price">€12/month</div>
        </div>
    </div>

    <div class="onboarding-promo">
        <div class="promo-banner">
            <strong>Referral Program:</strong> Invite friends and get <b>7 days of Basic</b> for free!
        </div>
        <div class="promo-banner">
            <strong>Top Tipster?</strong> <a href="#" class="apply-top-tipster">Apply to join the Top Tipsters program</a>
        </div>
    </div>

    <div class="onboarding-faq">
        <h3>Frequently Asked Questions</h3>
        <ul>
            <li><b>Can I upgrade or downgrade later?</b> Yes, you can change your plan anytime from your profile settings.</li>
            <li><b>What happens after my Basic trial?</b> You'll be billed €7/month unless you cancel or downgrade to Free.</li>
            <li><b>How do I become a Top Tipster?</b> Top Tipster status is awarded automatically to the best performers based on our transparent algorithm (win rate, tips, engagement, and more). The cream always rises to the top!</li>
        </ul>
    </div>
</div>

<form id="tier-selection-form" method="POST" style="display:none;">
    {% csrf_token %}
    <input type="hidden" name="tier" id="selected-tier-input">
</form>

<script>
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.select-tier-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const tier = this.dataset.tier;
            document.getElementById('selected-tier-input').value = tier;
            document.getElementById('tier-selection-form').submit();
        });
    });
});
</script>
{% endblock %} 
